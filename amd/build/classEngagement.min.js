define("block_revisionmanager/classEngagement",["core/modal_factory"],(function(ModalFactory){return{init:function(){document.querySelectorAll(".segment").forEach((segment=>{segment.addEventListener("click",(async function(){const json=this.getAttribute("data-students"),title=this.getAttribute("data-title")||"Students";let students;try{students=JSON.parse(json)}catch(e){students=[]}let tableHtml='\n                        <table class="table table-striped">\n                            <thead>\n                                <tr><th>Name</th><th>Email</th></tr>\n                            </thead>\n                            <tbody>\n                    ';students.forEach((student=>{tableHtml+="<tr><td>".concat(student.fullname,"</td><td>").concat(student.email,"</td></tr>")})),tableHtml+="</tbody></table>";try{const modal=await ModalFactory.create({title:title,body:tableHtml,type:ModalFactory.types.DEFAULT});modal.show(),modal.getRoot().on("hidden.bs.modal",(()=>{modal.destroy()}))}catch(e){window.console.error("Modal creation failed:",e)}}))}))}}}));

//# sourceMappingURL=classEngagement.min.js.map